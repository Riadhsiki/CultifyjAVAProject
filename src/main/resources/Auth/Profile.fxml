<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import java.net.URL?>

<BorderPane prefHeight="700.0" prefWidth="600.0" styleClass="root-pane"
            xmlns="http://javafx.com/javafx/20" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.auth.ProfileController">
    <stylesheets>
        <URL value="@/styles/profile.css" />
    </stylesheets>
    <left>
        <fx:include source="/sidebar/Sidebar.fxml" />
    </left>
    <center>
        <VBox styleClass="form-vbox" prefHeight="600.0" prefWidth="550.0" BorderPane.alignment="CENTER">
            <children>
                <Label text="Your Profile" styleClass="form-title">
                    <font>
                        <Font name="Verdana" size="24.0" />
                    </font>
                </Label>

                <VBox styleClass="form-fields-container" spacing="15.0">
                    <children>
                        <!-- Profile Picture with ImageView -->
                        <HBox alignment="CENTER" spacing="10.0">
                            <children>
                                <ImageView fx:id="profilePicView" styleClass="profile-pic" fitWidth="100.0" fitHeight="100.0" preserveRatio="true" />
                            </children>
                        </HBox>
                        <HBox alignment="CENTER" spacing="10.0">
                            <children>
                                <TextField fx:id="imagePathField" styleClass="form-textfield" editable="false" promptText="Select an image..." prefWidth="300.0" />
                                <Button fx:id="browseButton" onAction="#handleBrowse" text="Browse..." styleClass="browse-button" />
                                <Label fx:id="imageErrorLabel" styleClass="error-label" />
                            </children>
                        </HBox>
                        <Label fx:id="imagePreviewLabel" styleClass="image-preview-label" />

                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                            <children>
                                <Label text="Username:" styleClass="form-label" />
                                <TextField fx:id="usernameField" styleClass="form-textfield" editable="false" promptText="Your username" />
                                <Label fx:id="usernameErrorLabel" styleClass="error-label" />
                            </children>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                            <children>
                                <Label text="First Name:" styleClass="form-label" />
                                <TextField fx:id="firstNameField" styleClass="form-textfield" promptText="Enter first name" />
                                <Label fx:id="firstNameErrorLabel" styleClass="error-label" />
                            </children>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                            <children>
                                <Label text="Last Name:" styleClass="form-label" />
                                <TextField fx:id="lastNameField" styleClass="form-textfield" promptText="Enter last name" />
                                <Label fx:id="lastNameErrorLabel" styleClass="error-label" />
                            </children>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                            <children>
                                <Label text="Email:" styleClass="form-label" />
                                <TextField fx:id="emailField" styleClass="form-textfield" promptText="Enter your email" />
                                <Label fx:id="emailErrorLabel" styleClass="error-label" />
                            </children>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                            <children>
                                <Label text="Phone Number:" styleClass="form-label" />
                                <TextField fx:id="phoneNumberField" styleClass="form-textfield" promptText="8 digits" />
                                <Label fx:id="phoneNumberErrorLabel" styleClass="error-label" />
                            </children>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                            <children>
                                <Label text="Gender:" styleClass="form-label" />
                                <TextField fx:id="genderField" styleClass="form-textfield" editable="false" promptText="Gender" />
                                <Label fx:id="genderErrorLabel" styleClass="error-label" />
                            </children>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                            <children>
                                <Label text="Age:" styleClass="form-label" />
                                <TextField fx:id="ageField" styleClass="form-textfield" editable="false" promptText="Age" />
                                <Label fx:id="ageErrorLabel" styleClass="error-label" />
                            </children>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                            <children>
                                <Label text="Role:" styleClass="form-label" />
                                <TextField fx:id="roleField" styleClass="form-textfield" editable="false" promptText="Role" />
                                <Label fx:id="roleErrorLabel" styleClass="error-label" />
                            </children>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                            <children>
                                <Label text="Amount Due:" styleClass="form-label" />
                                <TextField fx:id="montantAPayerField" styleClass="form-textfield" editable="false" promptText="Amount due" />
                                <Label fx:id="montantAPayerErrorLabel" styleClass="error-label" />
                            </children>
                        </HBox>
                    </children>
                </VBox>

                <HBox alignment="CENTER" spacing="20.0" styleClass="form-buttons-container">
                    <children>
                        <Button fx:id="saveButton" onAction="#handleSaveProfile" text="Save Changes" styleClass="form-submit-button" />
                        <Button fx:id="changePasswordButton" onAction="#handleChangePassword" text="Change Password" styleClass="form-cancel-button" />
                        <Button fx:id="fingerprintButton" onAction="#handleEnrollFingerprint" text="Enroll Fingerprint" styleClass="form-cancel-button" />
                        <Button fx:id="backButton" onAction="#handleBack" text="Back" styleClass="form-cancel-button" />
                        <Button fx:id="logoutButton" onAction="#handleLogout" text="Logout" styleClass="form-cancel-button" />
                    </children>
                </HBox>
            </children>
        </VBox>
    </center>
</BorderPane>