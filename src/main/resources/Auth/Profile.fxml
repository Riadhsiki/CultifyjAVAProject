<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import java.lang.String?>

<BorderPane prefHeight="700.0" prefWidth="600.0" styleClass="root-pane"
            xmlns="http://javafx.com/javafx/20" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.auth.ProfileController">
    <stylesheets>
        <String fx:value="/styles/profile.css" />
    </stylesheets>
    <center>
        <VBox alignment="CENTER" spacing="25.0" styleClass="profile-container">
            <padding>
                <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
            </padding>

            <!-- Header -->
            <Label text="Your Profile" styleClass="welcome-label">
                <font>
                    <Font name="System Bold" size="32.0" />
                </font>
            </Label>

            <!-- Messages -->
            <Text fx:id="errorMessage" styleClass="error-message" text="Error message"
                  managed="false" visible="false" />
            <Text fx:id="successMessage" styleClass="success-message" text="Success message"
                  managed="false" visible="false" />

            <!-- Profile Card -->
            <ScrollPane fitToWidth="true" styleClass="scroll-pane">
                <content>
                    <VBox alignment="CENTER" spacing="15.0" styleClass="profile-card">
                        <padding>
                            <Insets bottom="25.0" left="30.0" right="30.0" top="25.0" />
                        </padding>
                        <children>
                            <!-- ID -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="User ID:" styleClass="input-label" prefWidth="130.0" />
                                    <TextField fx:id="idField" prefWidth="250.0" editable="false"
                                               styleClass="input-field" />
                                </children>
                            </HBox>

                            <!-- Username -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Username:" styleClass="input-label" prefWidth="130.0" />
                                    <TextField fx:id="usernameField" prefWidth="250.0" editable="false"
                                               styleClass="input-field" />
                                </children>
                            </HBox>

                            <!-- Email -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Email:" styleClass="input-label" prefWidth="130.0" />
                                    <TextField fx:id="emailField" prefWidth="250.0" promptText="Enter your email"
                                               styleClass="input-field" />
                                </children>
                            </HBox>

                            <!-- First Name -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="First Name:" styleClass="input-label" prefWidth="130.0" />
                                    <TextField fx:id="firstNameField" prefWidth="250.0" promptText="Enter first name"
                                               styleClass="input-field" />
                                </children>
                            </HBox>

                            <!-- Last Name -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Last Name:" styleClass="input-label" prefWidth="130.0" />
                                    <TextField fx:id="lastNameField" prefWidth="250.0" promptText="Enter last name"
                                               styleClass="input-field" />
                                </children>
                            </HBox>

                            <!-- Phone Number -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Phone Number:" styleClass="input-label" prefWidth="130.0" />
                                    <TextField fx:id="phoneNumberField" prefWidth="250.0" promptText="8 digits"
                                               styleClass="input-field" />
                                </children>
                            </HBox>

                            <!-- Gender -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Gender:" styleClass="input-label" prefWidth="130.0" />
                                    <TextField fx:id="genderField" prefWidth="250.0" editable="false"
                                               styleClass="input-field" />
                                </children>
                            </HBox>

                            <!-- Date of Birth -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Date of Birth:" styleClass="input-label" prefWidth="130.0" />
                                    <TextField fx:id="dateOfBirthField" prefWidth="250.0" editable="false"
                                               styleClass="input-field" />
                                </children>
                            </HBox>

                            <!-- Role -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Role:" styleClass="input-label" prefWidth="130.0" />
                                    <TextField fx:id="roleField" prefWidth="250.0" editable="false"
                                               styleClass="input-field" />
                                </children>
                            </HBox>

                            <!-- Montant Ã  Payer -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Amount Due:" styleClass="input-label" prefWidth="130.0" />
                                    <TextField fx:id="montantAPayerField" prefWidth="250.0" editable="false"
                                               styleClass="input-field" />
                                </children>
                            </HBox>

                            <!-- Profile Picture -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Profile Picture:" styleClass="input-label" prefWidth="130.0" />
                                    <TextField fx:id="profilePicField" prefWidth="180.0" promptText="Select an image"
                                               styleClass="input-field" editable="false" />
                                    <Button fx:id="browseButton" onAction="#handleBrowse" text="Browse"
                                            styleClass="secondary-button" />
                                </children>
                            </HBox>

                            <!-- Password Section -->
                            <VBox spacing="10.0" styleClass="password-section">
                                <children>
                                    <Label text="Change Password (Optional)" styleClass="section-title" />
                                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                                        <children>
                                            <Label text="Current Password:" styleClass="input-label" prefWidth="130.0" />
                                            <PasswordField fx:id="currentPasswordField" prefWidth="250.0"
                                                           promptText="Enter current password" styleClass="input-field" />
                                        </children>
                                    </HBox>
                                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                                        <children>
                                            <Label text="New Password:" styleClass="input-label" prefWidth="130.0" />
                                            <PasswordField fx:id="newPasswordField" prefWidth="250.0"
                                                           promptText="At least 8 characters" styleClass="input-field" />
                                        </children>
                                    </HBox>
                                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                                        <children>
                                            <Label text="Confirm Password:" styleClass="input-label" prefWidth="130.0" />
                                            <PasswordField fx:id="confirmPasswordField" prefWidth="250.0"
                                                           promptText="Confirm new password" styleClass="input-field" />
                                        </children>
                                    </HBox>
                                </children>
                            </VBox>

                            <!-- Buttons -->
                            <HBox alignment="CENTER" spacing="20.0">
                                <children>
                                    <Button fx:id="saveButton" onAction="#handleSaveProfile" text="Save Changes"
                                            styleClass="primary-button" prefHeight="45.0" prefWidth="120.0" />
                                    <Button fx:id="backButton" onAction="#handleBack" text="Back"
                                            styleClass="secondary-button" prefHeight="45.0" prefWidth="120.0" />
                                    <Button fx:id="logoutButton" onAction="#handleLogout" text="Logout"
                                            styleClass="warning-button" prefHeight="45.0" prefWidth="120.0" />
                                </children>
                            </HBox>
                        </children>
                    </VBox>
                </content>
            </ScrollPane>
        </VBox>
    </center>
</BorderPane>