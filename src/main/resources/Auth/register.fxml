<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import    javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import java.lang.String?>

<BorderPane prefHeight="650.0" prefWidth="600.0" styleClass="root-pane"
            xmlns="http://javafx.com/javafx/20" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.auth.RegisterController">
    <stylesheets>
        <String fx:value="/styles/register.css" />
    </stylesheets>
    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true" pannable="true" styleClass="scroll-pane">
            <content>
                <VBox alignment="CENTER" spacing="25.0" styleClass="register-container">
                    <padding>
                        <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
                    </padding>

                    <!-- Welcome Header -->
                    <Label text="Join CultureSketch" styleClass="welcome-label">
                        <font>
                            <Font name="System Bold" size="32.0" />
                        </font>
                    </Label>

                    <!-- Error Message -->
                    <Text fx:id="errorMessage" styleClass="error-message" text="Error message"
                          managed="false" visible="false" />

                    <!-- Success Message -->
                    <Text fx:id="successMessage" styleClass="success-message" text="Registration successful!"
                          managed="false" visible="false" />

                    <!-- Register Card -->
                    <VBox alignment="CENTER" spacing="15.0" styleClass="register-card">
                        <padding>
                            <Insets bottom="25.0" left="30.0" right="30.0" top="25.0" />
                        </padding>
                        <children>
                            <!-- First Name -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="First Name:*" styleClass="input-label" prefWidth="130.0" />
                                    <TextField fx:id="prenomField" prefWidth="250.0" promptText="Enter your first name"
                                               styleClass="input-field" />
                                </children>
                            </HBox>

                            <!-- Last Name -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Last Name:*" styleClass="input-label" prefWidth="130.0" />
                                    <TextField fx:id="nomField" prefWidth="250.0" promptText="Enter your last name"
                                               styleClass="input-field" />
                                </children>
                            </HBox>

                            <!-- Username -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Username:*" styleClass="input-label" prefWidth="130.0" />
                                    <TextField fx:id="usernameField" prefWidth="250.0" promptText="4-20 characters (letters, numbers, _)"
                                               styleClass="input-field" />
                                </children>
                            </HBox>

                            <!-- Email -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Email:*" styleClass="input-label" prefWidth="130.0" />
                                    <TextField fx:id="emailField" prefWidth="250.0" promptText="Enter a valid email"
                                               styleClass="input-field" />
                                </children>
                            </HBox>

                            <!-- Phone Number -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Phone Number:*" styleClass="input-label" prefWidth="130.0" />
                                    <TextField fx:id="numTelField" prefWidth="250.0" promptText="8 digits"
                                               styleClass="input-field" />
                                </children>
                            </HBox>

                            <!-- Gender -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Gender:*" styleClass="input-label" prefWidth="130.0" />
                                    <HBox spacing="15.0">
                                        <children>
                                            <RadioButton fx:id="maleRadio" text="Male" styleClass="radio-button">
                                                <toggleGroup>
                                                    <ToggleGroup fx:id="genderGroup" />
                                                </toggleGroup>
                                            </RadioButton>
                                            <RadioButton fx:id="femaleRadio" text="Female" styleClass="radio-button"
                                                         toggleGroup="$genderGroup" />
                                            <RadioButton fx:id="otherRadio" text="Other" styleClass="radio-button"
                                                         toggleGroup="$genderGroup" />
                                        </children>
                                    </HBox>
                                </children>
                            </HBox>

                            <!-- Date of Birth -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Date of Birth:*" styleClass="input-label" prefWidth="130.0" />
                                    <DatePicker fx:id="dateOfBirthPicker" prefWidth="250.0" promptText="Must be at least 12 years old"
                                                styleClass="input-field" />
                                </children>
                            </HBox>

                            <!-- Profile Picture -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Profile Picture:" styleClass="input-label" prefWidth="130.0" />
                                    <TextField fx:id="profilePicField" prefWidth="180.0" promptText="Select an image"
                                               styleClass="input-field" editable="false" />
                                    <Button fx:id="browseButton" onAction="#handleBrowse" text="Browse"
                                            styleClass="secondary-button" />
                                </children>
                            </HBox>

                            <!-- Role -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Role:*" styleClass="input-label" prefWidth="130.0" />
                                    <ComboBox fx:id="roleComboBox" prefWidth="250.0" styleClass="input-field" />
                                </children>
                            </HBox>

                            <!-- Password -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Password:*" styleClass="input-label" prefWidth="130.0" />
                                    <VBox>
                                        <PasswordField fx:id="passwordField" prefWidth="250.0" promptText="At least 8 characters"
                                                       styleClass="input-field" />
                                        <TextField fx:id="passwordTextField" prefWidth="250.0" promptText="At least 8 characters"
                                                   styleClass="input-field" visible="false" />
                                    </VBox>
                                    <Button fx:id="togglePasswordButton" onAction="#toggleConfirmPasswordVisibility"
                                            styleClass="toggle-button" prefWidth="40.0" />
                                </children>
                            </HBox>

                            <!-- Confirm Password -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Confirm Password:*" styleClass="input-label" prefWidth="130.0" />
                                    <VBox>
                                        <PasswordField fx:id="confirmPasswordField" prefWidth="250.0" promptText="Re-enter your password"
                                                       styleClass="input-field" />
                                        <TextField fx:id="confirmPasswordTextField" prefWidth="250.0" promptText="Re-enter your password"
                                                   styleClass="input-field" visible="false" />
                                    </VBox>
                                </children>
                            </HBox>

                            <!-- Register Button -->
                            <Button onAction="#handleRegister" text="Create Account" styleClass="primary-button"
                                    prefHeight="45.0" prefWidth="200.0" />

                            <!-- Login Link -->
                            <HBox alignment="CENTER" spacing="10.0">
                                <Label text="Already have an account?" styleClass="link-label" />
                                <Hyperlink onAction="#navigateToLogin" text="Sign In" styleClass="hyperlink" />
                            </HBox>
                        </children>
                    </VBox>
                </VBox>
            </content>
        </ScrollPane>
    </center>
</BorderPane>