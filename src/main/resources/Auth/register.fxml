<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<?import java.lang.String?>
<BorderPane prefHeight="650.0" prefWidth="600.0" styleClass="root-pane"
            xmlns="http://javafx.com/javafx/20" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.auth.RegisterController">
    <stylesheets>
        <String fx:value="/styles/auth.css" />
    </stylesheets>
    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true" pannable="true" styleClass="scroll-pane">
            <content>
                <VBox alignment="CENTER" spacing="25.0" styleClass="form-container">
                    <padding>
                        <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
                    </padding>
                    <!-- Animated Welcome Header -->
                    <Label text="Join " styleClass="title-label" />
                    <Label text="Cultify" styleClass="title-label, animated-title" />
                    <!-- Error Message -->
                    <Text fx:id="errorMessage" styleClass="error-message" text="Error message"
                          managed="false" visible="false" />
                    <!-- Success Message -->
                    <Text fx:id="successMessage" styleClass="success-message" text="Registration successful!"
                          managed="false" visible="false" />
                    <!-- Register Card -->
                    <VBox alignment="CENTER" spacing="15.0" styleClass="login-card">
                        <padding>
                            <Insets bottom="25.0" left="30.0" right="30.0" top="25.0" />
                        </padding>
                        <children>
                            <!-- Logo -->
                            <ImageView fx:id="logoImageView">
                                <image>
                                    <Image url="@../images/LogoCultify.png" />
                                </image>
                                <fitWidth>100.0</fitWidth>
                                <fitHeight>100.0</fitHeight>
                                <preserveRatio>true</preserveRatio>
                            </ImageView>
                            <!-- First Name -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <Label text="First Name:*" styleClass="form-label" prefWidth="130.0" />
                                <TextField fx:id="prenomField" prefWidth="250.0" promptText="Enter your first name"
                                           styleClass="form-field" />
                            </HBox>
                            <!-- Last Name -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <Label text="Last Name:*" styleClass="form-label" prefWidth="130.0" />
                                <TextField fx:id="nomField" prefWidth="250.0" promptText="Enter your last name"
                                           styleClass="form-field" />
                            </HBox>
                            <!-- Username -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <Label text="Username:*" styleClass="form-label" prefWidth="130.0" />
                                <TextField fx:id="usernameField" prefWidth="250.0" promptText="4-20 characters (letters, numbers, _)"
                                           styleClass="form-field" />
                            </HBox>
                            <!-- Email -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <Label text="Email:*" styleClass="form-label" prefWidth="130.0" />
                                <TextField fx:id="emailField" prefWidth="250.0" promptText="Enter a valid email"
                                           styleClass="form-field" />
                            </HBox>
                            <!-- Phone Number -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <Label text="Phone Number:*" styleClass="form-label" prefWidth="130.0" />
                                <TextField fx:id="numTelField" prefWidth="250.0" promptText="8 digits"
                                           styleClass="form-field" />
                            </HBox>
                            <!-- Gender -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <Label text="Gender:*" styleClass="form-label" prefWidth="130.0" />
                                <HBox spacing="15.0">
                                    <RadioButton fx:id="maleRadio" text="Male" styleClass="radio-button">
                                        <toggleGroup>
                                            <ToggleGroup fx:id="genderGroup" />
                                        </toggleGroup>
                                    </RadioButton>
                                    <RadioButton fx:id="femaleRadio" text="Female" styleClass="radio-button"
                                                 toggleGroup="$genderGroup" />
                                    <RadioButton fx:id="otherRadio" text="Other" styleClass="radio-button"
                                                 toggleGroup="$genderGroup" />
                                </HBox>
                            </HBox>
                            <!-- Date of Birth -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <Label text="Date of Birth:*" styleClass="form-label" prefWidth="130.0" />
                                <DatePicker fx:id="dateOfBirthPicker" prefWidth="250.0" promptText="Must be at least 12 years old"
                                            styleClass="form-field" />
                            </HBox>
                            <!-- Profile Picture -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <Label text="Profile Picture:" styleClass="form-label" prefWidth="130.0" />
                                <TextField fx:id="profilePicField" prefWidth="180.0" promptText="Select an image"
                                           styleClass="form-field" editable="false" />
                                <Button fx:id="browseButton" onAction="#handleBrowse" text="Browse"
                                        styleClass="secondary-button" />
                            </HBox>
                            <!-- Role -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <Label text="Role:*" styleClass="form-label" prefWidth="130.0" />
                                <ComboBox fx:id="roleComboBox" prefWidth="250.0" styleClass="form-field" />
                            </HBox>
                            <!-- Password -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <Label text="Password:*" styleClass="form-label" prefWidth="130.0" />
                                <VBox>
                                    <PasswordField fx:id="passwordField" prefWidth="250.0" promptText="At least 8 characters"
                                                   styleClass="form-field" />
                                    <TextField fx:id="passwordTextField" prefWidth="250.0" promptText="At least 8 characters"
                                               styleClass="form-field" visible="false" />
                                </VBox>
                                <Button fx:id="togglePasswordButton" onAction="#toggleConfirmPasswordVisibility"
                                        styleClass="toggle-button" prefWidth="40.0" />
                            </HBox>
                            <!-- Confirm Password -->
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <Label text="Confirm Password:*" styleClass="form-label" prefWidth="130.0" />
                                <VBox>
                                    <PasswordField fx:id="confirmPasswordField" prefWidth="250.0" promptText="Re-enter your password"
                                                   styleClass="form-field" />
                                    <TextField fx:id="confirmPasswordTextField" prefWidth="250.0" promptText="Re-enter your password"
                                               styleClass="form-field" visible="false" />
                                </VBox>
                            </HBox>
                            <!-- Register Button -->
                            <Button onAction="#handleRegister" text="Create Account" styleClass="action-button"
                                    prefHeight="45.0" prefWidth="200.0" />
                            <!-- Login Link -->
                            <HBox alignment="CENTER" spacing="10.0">
                                <Label text="Already have an account?" styleClass="form-label" />
                                <Hyperlink onAction="#navigateToLogin" text="Sign In" styleClass="hyperlink" />
                            </HBox>
                        </children>
                    </VBox>
                </VBox>
            </content>
        </ScrollPane>
    </center>
</BorderPane>
